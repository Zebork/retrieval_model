!function(t){var e={"北京市":"北京市","天津市":"天津市","河北省":"石家庄市","山西省":"太原市","内蒙古自治区":"呼和浩特市","辽宁省":"沈阳市","吉林省":"长春市","黑龙江省":"哈尔滨市","上海市":"上海市","江苏省":"南京市","浙江省":"杭州市","安徽省":"合肥市","福建省":"福州市","江西省":"南昌市","山东省":"济南市","河南省":"郑州市","湖北省":"武汉市","湖南省":"长沙市","广东省":"广州市","广西壮族自治区":"南宁市","海南省":"海口市","重庆市":"重庆市","四川省":"成都市","贵州省":"贵阳市","云南省":"昆明市","西藏自治区":"拉萨市","陕西省":"西安市","甘肃省":"兰州市","青海省":"西宁市","宁夏回族自治区":"银川市","新疆维吾尔自治区":"乌鲁木齐市","香港特别行政区":"香港","澳门特别行政区":"澳门"},n="wis.qq.com";t.fn.miniWeather=function(c){function i(){o(function(t){s(t.province,t.city,"")},function(){s("北京市","北京市","")})}function r(t){return!(!t||"string"!=typeof t||!t.length||"undefined"==t.toLocaleLowerCase())}function o(e,n){t.ajax({type:"get",async:!0,url:"//api.map.baidu.com/location/ip?ak=wPxSWYNs0X6cbZTFHg1QLnwuyrGOYT8N",charset:"UTF-8",dataType:"jsonp",success:function(t){t.content&&t.content.address_detail&&r(t.content.address_detail.province)&&r(t.content.address_detail.city)?e({province:t.content.address_detail.province,city:t.content.address_detail.city}):n()},error:function(){n()}})}function a(e,c,i){t.ajax({type:"get",async:!0,url:"//"+n+"/city/like?source=pc&city="+encodeURI(e),charset:"UTF-8",dataType:"jsonp",success:function(t){200==t.status?c(t.data):i(t)},error:function(){i()}})}function s(e,n,i){t.ajax({type:"get",async:!0,url:"//wis.qq.com/weather/common?source=pc&weather_type=observe&province="+encodeURI(e+"&city="+n+"&county="+(i||"")),charset:"UTF-8",dataType:"jsonp",success:function(t){200==t.status?p(e,n,i,t.data.observe):c.err&&c.err()},error:function(){c.err&&c.err()}})}function p(e,n,c,i){var r=t("<div/>"),o=t("<a/>").attr({target:"_blank",href:"http://tianqi.qq.com/?province="+encodeURI(e+"&city="+n+"&district="+c)}).css({color:"rgb(20, 20, 20)",fontSize:"13px",lineHeight:"20px",textDecoration:"none"}),a=t("<img/>").attr("src","//mat1.gtimg.com/pingjs/ext2020/weather/pc/icon/small/"+i.weather_code+".png").css({height:"20px",width:"20px",verticalAlign:"middle",marginTop:"-3px"}),s=t("<span/>").text(c||n).css("padding","0px 6px"),p=t("<span/>").text(i.degree+"°"),d=t("<span/>").text(i.weather_short);o.append(a,s,p,d),r.append(o),t(u.selector).append(r)}var u=this;return c&&c.province&&c.city?s(c.province,c.city,c.district):t.ajax({type:"get",async:!0,url:"//apis.map.qq.com/ws/location/v1/ip?key=3BFBZ-ZKD3X-LW54A-ZT76D-E7AHO-4RBD5&&output=jsonp",charset:"UTF-8",dataType:"jsonp",success:function(n){if(0==n.status){var c=(n=n.result.ad_info).province,p=n.city;r(c)?r(p)?s(c,p,""):o(function(t){s(t.province,t.city,"")},function(){var t=e[ad_info.province];s(c,t,"")}):r(p)?a(p,function(e){t.each(e,function(e,n){var c=n.split(",");return s(t.trim(c[0]),t.trim(c[1])),!1})},function(t){s("北京市","北京市","")}):i()}else i()},error:function(){i()}}),this}}(jQuery);/*  |xGv00|29129800fc86e6b18a938d5894298d99 */